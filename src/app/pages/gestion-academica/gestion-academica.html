<div class="container">
    <div class="form-card">
    <!-- Header con gradiente -->
    <div class="form-header">
        <h2>{{ isEditMode ? '‚úèÔ∏è Editar Estudiante' : 'üë®‚Äçüéì Nuevo Estudiante' }}</h2>
        <p>{{ isEditMode ? 'Actualiza los datos del alumno' : 'Ingresa los datos para registrarlo' }}</p>
    </div>

    <!-- Cuerpo del formulario -->
    <div class="form-body">
        <form [formGroup]="estudianteForm" (ngSubmit)="onSubmit()">
        
        <div class="form-group">
          <label>Nombre Completo *</label>
            <input 
            type="text" 
            formControlName="nombre" 
            placeholder="Ej: Juan P√©rez Garc√≠a"
            class="input-field"
            [class.input-error]="isFieldInvalid('nombre')"
            >
            @if (isFieldInvalid('nombre')) {
            <span class="error-msg">El nombre es obligatorio (m√≠n. 3 letras)</span>
            }
        </div>

        <div class="form-group">
          <label>C√≥digo de Estudiante *</label>
            <input 
            type="text" 
            formControlName="codigo" 
            placeholder="Ej: 2025-0001"
            class="input-field"
            [class.input-error]="isFieldInvalid('codigo')"
            >
            @if (isFieldInvalid('codigo')) {
            <span class="error-msg">El c√≥digo es obligatorio</span>
            }
        </div>

        <div class="form-group">
            <label>Correo Electr√≥nico *</label>
            <input 
            type="email" 
            formControlName="correo" 
            placeholder="alumno@ejemplo.com"
            class="input-field"
            [class.input-error]="isFieldInvalid('correo')"
            >
            @if (isFieldInvalid('correo')) {
                <span class="error-msg">Ingresa un correo v√°lido</span>
            }
        </div>
        <div class="form-group">
          <label>Grado / A√±o *</label>
            <select 
            formControlName="grado" 
            class="input-field"
            [class.input-error]="isFieldInvalid('grado')"
            >
            <option value="">Selecciona un grado...</option>
            @for (grado of grados; track grado) {
                <option [value]="grado">{{ grado }}</option>
            }
            </select>
            @if (isFieldInvalid('grado')) {
            <span class="error-msg">Selecciona un grado</span>
            }
        </div>
        <div class="form-actions">
            <a routerLink="/mis-cursos" class="btn-secondary">Cancelar</a>
            <button type="submit" class="btn-primary" [disabled]="isLoading">
            @if (isLoading) {
                Guardando...
            } @else {
                {{ isEditMode ? 'Actualizar' : 'Guardar' }}
            }
            </button>
        </div>
        </form>
    </div>
    </div>
</div>